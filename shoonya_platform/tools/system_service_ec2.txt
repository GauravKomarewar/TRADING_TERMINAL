sudo nano /etc/systemd/system/signal_processor.service

//////////////////////////////////////////////////////////////////////////////////////////////////////

[Unit]
Description=Shoonya Execution Service (shoonya_platform)
After=network.target
Wants=network-online.target

[Service]
Type=simple
User=ec2-user
Group=ec2-user

# --------------------------------------------------
# WORKING DIRECTORY
# --------------------------------------------------
WorkingDirectory=/home/ec2-user/shoonya_platform

# --------------------------------------------------
# ENVIRONMENT
# --------------------------------------------------
Environment="HOME=/home/ec2-user"
Environment="PYTHONUNBUFFERED=1"
Environment="LOGLEVEL=INFO"

# üîê Virtualenv (NEW PLATFORM)
Environment="VIRTUAL_ENV=/home/ec2-user/shoonya_platform/venv"
Environment="PATH=/home/ec2-user/shoonya_platform/venv/bin:/usr/bin:/bin"
Environment="PYTHONPATH=/home/ec2-user/shoonya_platform"

# üîë Secrets / credentials
EnvironmentFile=/home/ec2-user/shoonya_platform/config_env/primary.env

# --------------------------------------------------
# ENTRYPOINT
# --------------------------------------------------
ExecStart=/home/ec2-user/shoonya_platform/venv/bin/python main.py

# --------------------------------------------------
# LOGGING
# --------------------------------------------------
StandardOutput=append:/home/ec2-user/shoonya_platform/logs/signal_processor.log
StandardError=append:/home/ec2-user/shoonya_platform/logs/signal_processor.err

# --------------------------------------------------
# RESTART POLICY
# --------------------------------------------------
Restart=always
RestartSec=5

[Install]
WantedBy=multi-user.target

//////////////////////////////////////////////////////////////////////////////////////////////////////////////////

sudo systemctl daemon-reload

sudo nano /etc/systemd/system/option_data.service
///////////////////////////////////////////////////////////////////////////////////////////////////////////////

[Unit]
Description=Shoonya Option Chain Data Supervisor
After=network.target
Wants=network-online.target

[Service]
Type=simple
User=ec2-user
Group=ec2-user

# --------------------------------------------------
# WORKING DIRECTORY
# --------------------------------------------------
WorkingDirectory=/home/ec2-user/shoonya_platform

# --------------------------------------------------
# ENVIRONMENT (MATCH EXECUTION & DASHBOARD)
# --------------------------------------------------
Environment="HOME=/home/ec2-user"
Environment="PYTHONUNBUFFERED=1"
Environment="LOGLEVEL=INFO"

# üîê Virtualenv (CANONICAL)
Environment="VIRTUAL_ENV=/home/ec2-user/shoonya_platform/venv"
Environment="PATH=/home/ec2-user/shoonya_platform/venv/bin:/usr/bin:/bin"
Environment="PYTHONPATH=/home/ec2-user/shoonya_platform"

#    Secrets / credentials
EnvironmentFile=/home/ec2-user/shoonya_platform/config_env/primary.env

# --------------------------------------------------
# EXECUTION
# --------------------------------------------------
ExecStart=/home/ec2-user/shoonya_platform/venv/bin/python -m shoonya_platform.market_data.option_chain.supervisor

# --------------------------------------------------
# RELIABILITY
# --------------------------------------------------
Restart=always
RestartSec=5

# --------------------------------------------------
# LOGGING
# --------------------------------------------------
StandardOutput=journal
StandardError=journal

[Install]
WantedBy=multi-user.target

////////////////////////////////////////////////////////////////////////////////////

sudo systemctl daemon-reload

sudo nano /etc/systemd/system/shoonya-dashboard.service
////////////////////////////////////////////////////////////////////////////////////

[Unit]
Description=Shoonya OMS Dashboard Service
After=network.target
Wants=network-online.target

[Service]
Type=simple
User=ec2-user
Group=ec2-user

# --------------------------------------------------
# WORKING DIRECTORY
# --------------------------------------------------
WorkingDirectory=/home/ec2-user/shoonya_platform

# --------------------------------------------------
# ENVIRONMENT
# --------------------------------------------------
Environment="HOME=/home/ec2-user"
Environment="PYTHONUNBUFFERED=1"
Environment="LOGLEVEL=INFO"

# üîê Virtualenv (MATCH OTHER SERVICES)
Environment="VIRTUAL_ENV=/home/ec2-user/shoonya_platform/venv"
Environment="PATH=/home/ec2-user/shoonya_platform/venv/bin:/usr/bin:/bin"
Environment="PYTHONPATH=/home/ec2-user/shoonya_platform"


# üîë Secrets / credentials
EnvironmentFile=/home/ec2-user/shoonya_platform/env/config_primary.env

# --------------------------------------------------
# EXECUTION
# --------------------------------------------------
ExecStart=/home/ec2-user/shoonya_platform/venv/bin/python -m uvicorn shoonya_platform.api.dashboard.dashboard_app:app --host 0.0.0.0 --port 8000
Restart=always
RestartSec=3

[Install]
WantedBy=multi-user.target

//////////////////////////////////////////////////////////////////////////////////////////////

sudo systemctl daemon-reload