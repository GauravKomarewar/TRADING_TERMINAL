<!DOCTYPE html>
<html>
<head>
  <title>Test Strategy Form</title>
  <style>
    body { font-family: monospace; padding: 20px; background: #1a1a1a; color: #fff; }
    .test { margin: 10px 0; padding: 10px; border-left: 3px solid #0f0; }
    .fail { border-left-color: #f00; color: #f99; }
    .pass { border-left-color: #0f0; color: #9f9; }
    pre { background: #000; padding: 10px; overflow-x: auto; }
  </style>
</head>
<body>
  <h1>Strategy Form Diagnostic</h1>
  <div id="results"></div>

  <script>
    const results = [];
    
    function test(name, fn) {
      try {
        const result = fn();
        results.push({ name, pass: result, error: null });
      } catch(e) {
        results.push({ name, pass: false, error: e.message });
      }
    }

    // Test 1: Check if the form page can be loaded
    test('Page load capability', () => {
      return typeof window !== 'undefined';
    });

    // Test 2: Create minimal mock of what should exist
    test('Can create DOM structure for strategy_new.html', () => {
      const div = document.createElement('div');
      div.id = 'strategyCards';
      div.innerHTML = '<button onclick="console.log(\'test\')">Test</button>';
      return div.querySelector('button') !== null;
    });

    // Test 3: Test if functions can be created
    test('Can define testable functions', () => {
      window.testFunc = function() { return 'works'; };
      return window.testFunc() === 'works';
    });

    // Display results
    const html = `
      <h2>Diagnostic Results</h2>
      <p>Testing strategy_new.html structure...</p>
      ${results.map(r => `
        <div class="test ${r.pass ? 'pass' : 'fail'}">
          <strong>${r.pass ? '✓' : '✗'} ${r.name}</strong>
          ${r.error ? `<br/><small>Error: ${r.error}</small>` : ''}
        </div>
      `).join('')}
      
      <h2>Next Steps:</h2>
      <ol>
        <li>Open browser DevTools (F12)</li>
        <li>Go to Console tab</li>
        <li>Check for any red error messages</li>
        <li>Click "Create Strategy" button</li>
        <li>Look for "openBuilder called" log message</li>
        <li>Share any error messages with me</li>
      </ol>
      
      <h2>Checklist:</h2>
      <ul>
        <li>✓ File ends with &lt;/body&gt; and &lt;/html&gt;</li>
        <li>✓ openBuilder() function has console.log for debugging</li>
        <li>✓ Error handling with alert() for debugging</li>
        <li>→ Run your strategy form in browser and check console output</li>
      </ul>
    `;
    
    document.getElementById('results').innerHTML = html;
  </script>
</body>
</html>
